@import url("../../.config/matugen/generated/waybar-colors.css");

* {
    font-family: "JetBrainsMono Nerd Font Propo", "JetBrainsMono Nerd Font", "Noto Sans", sans-serif;
    font-weight: bold;
    min-height: 0;
    border: none;
    border-radius: 0;
    margin: 2px;
    min-width: 10px;
    font-size: 10px;
}

window#waybar {
    background: transparent;
    color: @on_surface;
    font-size: 10px;
}

/* UNIFIED CAPSULE STYLE */
#clock,
#custom-notification,
#workspaces,
#custom-notification{
	font-size: 10px;
    background-color: @surface_container;
    color: @on_surface;
    border-radius: 10px;
    margin: 3px 1px;
    padding: 6px 0px;
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
}

box#cpu,
box#memory,
box#temp,
box#audio,
box#bat,
box#network{
    background-color: transparent;
    color: @on_surface;
    border-radius: 10px;
    margin: 2px 0px;
    padding: 3px 0px;
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
}

/* --- TOP SECTION --- */
#clock {
    background-color: @primary_container;
    color: @on_primary_container;
    /* CHANGED: 10px ensures 4 digits (e.g. 12:00) fit comfortably */
    font-size: 10px; 
    padding-bottom: 8px;
}

label.cpu-icon,
label.memory-icon,
label.temperature-icon,
label.pulseaudio-icon,
label.battery-icon {
    margin-bottom: -4px;
    margin-top: 2px;
    font-size: 10px;
    padding-top: 0px;
    padding-bottom: 0px;
}

#clock,
label.custom-network-up,
label.custom-network-unit,
label.custom-network-down,
label.cpu-text,
label.memory-text,
label.temperature-text,
label.pulseaudio-text,
label.battery-text {
    font-size: 10px; 
    font-weight: 800;
}

#cpu, #memory, #temperature {
    background: transparent;
    box-shadow: none;
    margin: 4px 0;
    padding: 0px 1px 0px 1px;
    font-size: 10px;
    color: @on_surface;
    min-width: 22px;
}

/* ADDED: Critical State Coloring (Red when > 80%) */
#temperature-icon.critical,
#temperature-text.critical {
    color: @error;
    animation-name: blink;
    animation-duration: 0.5s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    animation-direction: alternate;
}

/* Battery States */
#battery-text.charging, #battery-icon.charging { color: @tertiary; }
#battery-text.warning,  #battery-icon.warning  { color: @error; }
#battery-text.critical, #battery-icon.critical { 
    color: @error;
    animation-name: blink;
    animation-duration: 0.5s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    animation-direction: alternate;
}

#custom-notification:hover, box#cpu:hover, box#temp:hover, box#bat:hover, box#audio:hover, box#memory:hover, box#network:hover{
	background-color: @surface_container_highest;
}

@keyframes blink {
    to {
        color: @on_surface;
    }
}

/* --- CENTER SECTION --- */
#workspaces {
    background-color: @surface_container_high;
    padding: 2px 0;
}

#workspaces button {
    padding: 2px 0;
    /* CHANGED: Reduced horizontal margin */
    margin: 1px 2px;
    border-radius: 9px;
    color: @on_surface_variant;
    background: transparent;
    transition: all 0.2s ease;
}

#workspaces button.active {
    background-color: @primary;
    color: @on_primary;
}

#workspaces button.urgent {
    background-color: @error;
    color: @on_error;
}

#workspaces button:hover {
    background-color: @surface_container_highest;
}

/* --- BOTTOM SECTION --- */
/* #custom-network { */
/*     font-size: 10px; */
/*     padding: 8px 2px; */
/* } */

#battery.charging { color: @tertiary; }
#battery.warning { color: @error; }

#custom-power {
    background-color: transparent;
    box-shadow: none;
    color: @error;
    font-size: 10px; /* Slightly smaller icon to match narrow width */
    margin-top: 4px;
    margin-bottom: 4px;
    padding: 4px 4px;
    border-radius: 6px 6px;
}

#custom-power:hover {
    color: @error_container;
    background-color: @error;
}
